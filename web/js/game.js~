
function getSquare(x,y){
    return $("#square" + x + "" + y);
}
    
    function addPiece(type,color,x,y){
	s = '<div class="piece ' + type + '">'
	    + '<img src="images/' + type + color  + '.png" alt="' + type + '"/>'
	    + '</div>';
	getSquare(x,y).append($(s));
    }
    
    $(document).ready(function(){
	
	$("#droppable").bind('dropover',function() { $(this).css({background:"green"}); })
	var board = $("#board");
	for(i=0;i<9;i++){
	    for(j=0;j<10;j++){
		s = "<div id=square" + i + "" + j + " class='square'></div>";
		$(s).appendTo(board).css("left",(70*j)+"px").css("top",(70*i)+"px").data("index", {x:i,y:j});
		
	    }
	}
//    $(".square").addClass("draggable");

//    $(".square").each(function (i) {
//	$(this).text($(this).data("index").x + "," + $(this).data("index").y);
//   });
	
	
	s = '<div id="general" class="piece general"><img src="images/general.png" alt="genreal"/></div>';
	
	getSquare(4,5).append($(s));

	addPiece("advisor","black",3,6);

	$(".piece").addClass("draggable");
	
	getSquare(6,7).addClass("droppable");
	getSquare(1,1).addClass("droppable");


	$(".draggable").draggable({cursor: 'crosshair', revert: "invalid" , snap: true, snapMode: 'inner' });
	
	$(".droppable").droppable({
	    drop: function(event, ui) { $(this).css({background:"red"}); 
					//				    ui.draggable.css({left:"0px"}); 
					//				    ui.draggable.css({top:"70px"}); 
					//				    ui.draggable.clone(true).insertAfter(ui.draggable); 
				      }
	});

	
    });
    
